#!/bin/bash
#
# Convert a VTT (Web Video Text Tracks) file to a clean TXT without timestamps

# @author: Daniel Souza <me@posix.dev.br>
# @license: MIT
# @usage: convert-vtt-txt <URL>
# @deps: sed

src="$1"
name="${src%%.vtt}"
dst="$name.txt"

sed -E '1,3d;/^[0-9]{2}:[0-9]{2}:[0-9]{2}\.[0-9]{3}.*$/d;/^$/d' "$src" > "$dst"
