# Opens URI in a normal or in a private browser session depending on matching of a set of regular expressions.

if [ $1 ]; then
    uri="$1"
else
    uri="about:blank"
fi

signedon_patterns=(github.com gitlab.com gmail.com)

for regex in "${signedon_patterns[@]}"; do
    echo "${BASH_REMATCH[*]}"
    if [[ $uri =~ $regex  ]]; then
        chromium "$uri" &>/dev/null; exit
    fi
done

firefox "$uri" &>/dev/null; exit

